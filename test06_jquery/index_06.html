<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>CBC jQuery</title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/style_06.css">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
</head>

<script>
////////////////////* ここにjQueryを記述する *////////////////////
$(function(){
    $('#change_btn').click(function(){
        $('#box').css({'color':'#0094d7'})
    });
});

$(function(){
    $('#text').mouseover(function(){
        $(this).removeClass('hover_off');
        $(this).addClass('hover_on');
    });
    $('#text').mouseout(function(){
        $(this).removeClass('hover_on');
        $(this).addClass('hover_off');
    });
});

$(function(){
    $('.accordion > li > div').click(function(){ /* .accordion > li > divをクリックした時に */
        $(this).next('ul').slideToggle('fast'); /* クリックされた要素の次にあるdivを表示させる。*/
    })
})

$(function(){
    $(window).scroll(function(){
        if( $(this).scrollTop() > 100 ) {
            $('.pageTop_btn').stop(true).fadeIn();
        } else {
            $('.pageTop_btn').stop(true).fadeOut();
        }
    });
    $('.pageTop_btn').click(function(){
        $('body,html').animate({ scrollTop:0 }, 500);
    });
});

$(function(){
    $('.tooltips').hide();
    $('#nav li').hover(
        function(){
            $(this).children('.tooltips').fadeIn('fast');
        },
        function(){
            $(this).children('.tooltips').fadeOut('slow');
        });
});

$(function(){
    $('#calc').change(function(){
        var numA = parseInt( $('.number_A').val() );
        var numB = parseInt( $('.number_B').val() );
        $('#number_total').text(numA + numB);
    });
});

$(function(){
    $('#calc2').change(function(){
        var numC = parseInt( $('.number_C').val() );
        var answer = Math.floor(numC * 3.14 * 100) / 100;
        $('#number_total2').text(answer);
    });
});

function tax(price) {
    var tax = 0.08;
    var floatTax = price * tax;
    return Math.round(floatTax);
}

$(function(){
    $('#tax').change(function(){
        var num = parseInt( $('.ex_price').val() );
        var t = tax(num);
        $('.ex_tax').text(t);
    });
});

$(function(){
    $('#tax_console').change(function(){
        var num = parseInt($('.ex_price_console').val());
        var floatTax = num * 0.08;
        console.log("floatTax -> ", floatTax);
        var t = tax(num);
        $('.ex_tax_console').text(t);
    });
});

$(function(){
    $('.modal-open').on('click',function(){
        $('#contents').css('filter','none');
        $('body').append('<div class="modal-overlay"></div>');
        $('.modal-content,.modal-overlay').fadeIn('slow');

        $('.modal-overlay').click(function(){
            $('.modal-content,.modal-overlay').fadeOut('slow',function(){
                $('.modal-overlay').remove();
            });
        });

        modalResize();

        function modalResize() {
            var w = $(window).width();
            var h = $(window).height();
            var cw = $('.modal-content').outerWidth();
            var ch = $('.modal-content').outerHeight();
            $('.modal-content').css({
                'left' : ((w - cw)/2) + 'px',
                'top' : ((h - ch)/2) + 'px'
            });
        }
    });
});


</script>

<body>
<section>
    <div id="change_btn">ボタン</div>
    <div id="box">
        クリックをトリガーとして文字の色を変更するサンプルです。<br>
        これは"changeColor_btn"というクラスがついている要素をクリックした時に<br>
        "box"というidがついている要素内の文字色を変更しています。
    </div>

    <br>
    <div id="text" class="hover_off">
        背景色を変更するサンプルです。<br>
        これは"text"というクラスがついている要素にマウスを乗せた時に<br>
        "text"要素の背景色を変更しています。
    </div>

    <br>
    <ul class="accordion">
        <li>
            <div>アコーディオン1</div>
            <ul class="accordion_inner">
                <li>コンテンツ1</li>
                <li>コンテンツ2</li>
                <li>コンテンツ3</li>
            </ul>
        </li>
        <li>
            <div>アコーディオン2</div>
            <ul class="accordion_inner">
                <li>コンテンツ1</li>
                <li>コンテンツ2</li>
                <li>コンテンツ3</li>
            </ul>
        </li>
        <li>
            <div>アコーディオン3</div>
            <ul class="accordion_inner">
                <li>コンテンツ1</li>
                <li>コンテンツ2</li>
                <li>コンテンツ3</li>
            </ul>
        </li>
    </ul>
</section>

<br>
<div id="nav">
    <ul>
        <li>1<p class="tooltips">ツールチップ1</p></li>
        <li>2<p class="tooltips">ツールチップ2</p></li>
        <li>3<p class="tooltips">ツールチップ3</p></li>
    </ul>
</div>

<br>
<div id="calc">
    <span><input class="number_A" type="number"></span> +
    <span><input class="number_B" type="number"></span> =
    <span id="number_total"></span>
</div>

<br>
<div id="calc2">
    <span><input class="number_C" type="number" style="width: 50px;"></span> cm × 3.14 =
    <span id="number_total2"></span>cm
</div>

<br>
<div id="tax">
    <input class="ex_price" type="number" style="width: 100px;" > 消費税:<span class="ex_tax"></span> 円
</div>

<br>
<div id="tax_console">
    <input class="ex_price_console"> 消費税：<span class="ex_tax_console"></span> 円
</div>

<br>
<div class="modal-open">モーダル起動！</div>
<div class="modal-content">
    モーダルウィンドウの中身<br>
    モーダルウィンドウの中身
</div>

<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト
<br>テスト

<div class="pageTop_btn">
    <img src="./images/top.png" alt="ページトップへ戻る">
</div>



</body>
</html>